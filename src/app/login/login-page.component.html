<div class="center">
  <div class="center login-box">
    <form
      nz-form
      [formGroup]="loginForm"
      class="login-form"
      (ngSubmit)="submitForm($event)"
    >
      <div class="col-md-12 text-center heading">
        <h4 class="text-info">Welcome to Starwars Game</h4>
        <br />
      </div>
      <nz-form-item *ngIf="isRegMode">
        <nz-form-control nzHasFeedback>
          <nz-input-group [nzPrefix]="prefixFullname">
            <input
              class="inpt-lg"
              type="text"
              nz-input
              maxlength="25"
              pattern="[a-zA-Z]+[a-zA-Z ]*"
              formControlName="fullName"
              placeholder="Enter Fullname"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzHasFeedback>
          <nz-input-group [nzPrefix]="prefixUser">
            <input
              class="inpt-lg"
              type="text"
              nz-input
              maxlength="25"
              pattern="[^ ]+"
              formControlName="userName"
              placeholder="Enter Username"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control nzHasFeedback>
          <nz-input-group [nzPrefix]="prefixLock">
            <input
              class="inpt-lg"
              type="password"
              nz-input
              maxlength="25"
              formControlName="password"
              placeholder="Enter Password"
              pattern="[^ ]+"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control>
          <label
            *ngIf="!isRegMode"
            nz-checkbox
            formControlName="remember"
            class="pull-left"
          >
            <span>Remember me</span>
          </label>
          <a
            *ngIf="!isRegMode"
            class="pull-right link"
            href="javascript:0"
            (click)="loginAsGuest(true)"
          >
            Guest Login
          </a>
          <button nz-button class="login-form-button" [nzType]="'primary'">
            {{ isRegMode ? 'Submit' : 'Sign In' }}
          </button>
          <span class="pull-left">
            Or
            <a class="link" href="javascript:0" (click)="onModeChange()">
              {{ isRegMode ? 'Sign In' : 'Sign Up' }} now!
            </a>
          </span>
        </nz-form-control>
      </nz-form-item>
    </form>
    <ng-template #prefixFullname><i nz-icon nzType="team"></i></ng-template>
    <ng-template #prefixUser><i nz-icon type="user"></i></ng-template>
    <ng-template #prefixLock><i nz-icon type="lock"></i></ng-template>
  </div>
</div>

<nz-modal
  [(nzVisible)]="signUpModalVisible"
  [nzTitle]="modalTitle"
  [nzClosable]="false"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  (nzOnCancel)="signUpModalVisible = false"
  [nzWidth]="500"
>
  <ng-template #modalTitle>
    <h4 class="col-mb-0 text-primary">Please consider Signing up!</h4>
  </ng-template>

  <ng-template #modalContent class="col-p-10">
    <p>You have previously logged in as a Guest User. Sign Up to save your game score and get personalized experience.</p>
    <p>Signing Up is absolutely free and will only take a moment.</p>
  </ng-template>

  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="loginAsGuest(false)">
      Continue as Guest
    </button>
    <button
      class="col-mr-5"
      nz-button
      nzType="primary"
      (click)="signUpModalVisible = false; isRegMode = true"
    >Sign Up
    </button>
  </ng-template>
</nz-modal>


<float-text #floater></float-text>
